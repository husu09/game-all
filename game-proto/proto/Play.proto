syntax = "proto2";
package com.su.proto;
option java_outer_classname = "PlayProto";

message CardPro{
	optional int32 value = 1;	// 牌面
	optional int32 suit = 2;	// 花色
}

message MultipleTypePro {
	optional int32 type = 1;	// 类型
	optional int32 multiple = 2;	// 倍数
}

message TablePro {
	repeated GamePlayerPro gamePlayers = 1;	// 玩家
	repeated MultipleTypePro multiples = 2;	// 倍数
	optional int32 state = 3;		// 牌桌状态
	optional int32 holdIndex = 4;	// 出牌玩家
	optional int32 myselfIndex = 5;	// 我的位置
	
}

message GamePlayerPro{
	optional int32 index = 1;		// 玩家坐位
	repeated CardPro handCards = 2;	// 玩家手牌
	optional int32 isAuto = 3;	// 是否托管
	optional int32 team = 4;	// 玩家队伍（0：无，1：红方，2：蓝方）
	optional int32 score = 5;	// 玩家得分
}

// 开始匹配
message startMatchingReq {
	optional int32 siteId = 1;	// 场所id
}
message startMatchingResp {
	
}

// 叫牌
message callReq {
	optional int32 cardIndex = 1;	// 出牌索引
}
message callResp {
	
}

// 出牌
message drawReq {
	optional int32 cardType = 1;	// 牌型
	repeated int32 cardIndexs = 2;	// 出牌索引
}
message drawResp {
	
}
// 过牌
message checkReq {

}
message checkResp {
	
}

// 准备
message readyReq {

}
message readyResp {

}

// 游戏开始通知
message gameStartNotice {
	optional TablePro table = 1;	// 牌桌数据
}
// 玩家数据更新通知
message updateGamePlayerNotice{
	optional GamePlayerPro gamePlayer = 1;	
}
// 牌桌数据更新通知
message updateTableNotice{
	optional TablePro table = 1;
}



